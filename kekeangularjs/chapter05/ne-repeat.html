<!DOCTYPE html>
<html ng-app="myapp">
	<head>
		<meta charset="UTF-8">
		<title>Angularjs1.6入门-数据的双向绑定</title>
		<script type="text/javascript" src="../bower_components/angular/angular.min.js"></script>
		<style>
			.red{color: red;}
			.green{color:green;}
		</style>
	</head>
	<body>
		<!--不可见-->
		<div ng-controller="XingController">
			总共有：{{datas.length}}
			<ul>
				<li ng-repeat="teacher in datas">
					{{$index+1}}：{{teacher.username}}
					<ul>
						总共{{teacher.students.length}}个学生
						<li ng-repeat="student in teacher.students">
							{{$parent.$index+1}}-{{$index+1}}：{{student.sname}}==>{{student.age}}
						</li>
					</ul>
				</li>
			</ul>
			<hr />
			<ul>
				<li ng-repeat="teacher in datas">
					{{$index+1}}：{{teacher.username}}
					<ul ng-init="pindex=$index">
						总共{{teacher.students.length}}个学生
						<li ng-repeat="student in teacher.students"  ng-class="$last?'red':'green'">
							<div>{{pindex+1}}-{{$index+1}}：{{student.sname}}==>{{student.age}}</div>
						</li>
					</ul>
				</li>
			</ul>
		</div>
		
		<script type="text/javascript">
			
			/*
			 * ne-repeat 复制指令
			 * 拿到索引：
			 * $first:是否是第一个元素
			 * $last:是否最后一个元素
			 * $middle是否中间元素
			 * $index：索引
			 * 
			 * */
			var app = angular.module("myapp",[]);
			app.controller("XingController",function($scope){
				$scope.datas = [{username:"keke老师",students:[
						{sname:"小艾",age:24},
						{sname:"野狼",age:21},
						{sname:"小钊",age:22},
						{sname:"小雪",age:23},
					]},{username:"vico老师",students:[
						{sname:"小艾1",age:24},
						{sname:"小钊3",age:22},
						{sname:"小雪4",age:23},
					]}
				];
				
				$scope.length = $scope.datas.length;
			});
			
			
			
			
		</script>
	</body>
</html>
