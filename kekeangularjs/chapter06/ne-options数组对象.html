<!DOCTYPE html>
<html ng-app="myapp">
	<head>
		<meta charset="UTF-8">
		<title>Angularjs1.6入门-数据的双向绑定</title>
		<script type="text/javascript" src="../bower_components/angular/angular.min.js"></script>
	</head>
	<body>
		
		<!--不可见-->
		<div ng-controller="SelectController">
			<select ng-model="opid" id="province" ng-change="getCitys()" ng-options="data.id as data.name for data in provinces">
				<option value="">--请选择--</option>
			</select>
			当前选中的值是：{{opid}}=={{name}}
		</div>
		
	
		
		
		<script type="text/javascript">
			
			
			//ng-change 没有办法去注入$event对象
			var app = angular.module("myapp",[]);
			app.controller("SelectController",function($scope){
				$scope.provinces = [{id:10001,name:"长沙"},{id:10002,name:"浙江"},{id:10003,name:"上海"}];
				//$scope.citys = [{id:10001,name:"长沙"},{id:10002,name:"浙江"},{id:10003,name:"上海"}];
				//$scope.areas = [{id:10001,name:"长沙"},{id:10002,name:"浙江"},{id:10003,name:"上海"}];
				$scope.getCitys = function(e){
					console.log("你当前选中的值是:=====>"+$scope.opid+"==="+getText($scope.opid).name);
					$scope.name = getText($scope.opid).name;
					/*var pdom = document.getElementById("province");
					var sindex = pdom.selectedIndex;
					var pvalue = pdom.options[sindex].value;
					var ptext = pdom.options[sindex].text;
					alert($scope.opid+"==="+ptext);*/
				}
				
				
				function getText(value){
					var obj = {};
					for (var i = 0; i < $scope.provinces.length; i++) {
						if(value==$scope.provinces[i].id){
							obj = $scope.provinces[i];
							break;
						}
					}
					return obj;
				};
			});
			
			
			
			//省市区的三级联动
		</script>
	</body>
</html>
